#N canvas 532 40 742 569 12;
#X text 185 21 Freesound API (text) sound search resource;
#X text 82 39 http://www.freesound.org/docs/api/resources.html#sound-search-resource
, f 70;
#X obj 36 355 fs_text_search;
#N canvas 0 22 450 300 set_api_key 0;
#X obj 16 46 inlet;
#X text 68 20 Get a free api token from freesound.org/apply;
#X msg 16 112 \; token symbol F2c5YcFILaHeE0Epm1FwUy5gEYGcxg0CZZ5G2NGK
\; access_token symbol obmc41D9H4pDt25BA34qOuLjaXfdNu;
#X text 65 195 token lets you perform queries;
#X text 67 209 access_token lets you download/upload/manage files;
#X text 84 80 They look something like this:;
#X connect 0 0 2 0;
#X restore 33 131 pd set_api_key;
#X obj 33 104 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 33 80 1) set api key;
#X text 34 177 2) set query parameters;
#X obj 180 474 r token;
#X obj 131 329 r token;
#X obj 80 308 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 58 425 next;
#X text 79 288 3) bang to perform search;
#X text 107 420 4) 'next' to browse to next result page, f 20;
#X obj 36 501 fs_results \$0-results;
#X obj 358 276 fs_download \$0-results;
#X obj 622 47 text define \$0-results;
#X f 11;
#X obj 358 165 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 381 215 bang;
#X floatatom 370 188 5 0 0 0 - - -;
#X msg 392 244 reset;
#X obj 509 240 r access_token;
#N canvas 0 22 450 278 (subpatch) 0;
#X array array1 22096 float 2;
#X coords 0 1 22096 -1 113 102 1;
#X restore 511 369 graph;
#N canvas 0 22 623 467 load_into_table 0;
#X obj 78 164 * 5;
#X obj 75 290 ggee/getdir 1;
#X obj 75 314 list;
#X obj 78 213 list split 1;
#X msg 184 268 symbol file-\$1;
#X obj 36 411 soundfiler;
#X msg 36 386 read -resize \$1 array1;
#X msg 75 337 symbol \$1/\$2.wav;
#X obj 36 361 symbol;
#X obj 36 29 inlet;
#X obj 78 189 text get \$0-results;
#X obj 118 251 t b a;
#X obj 183 297 t a a;
#X obj 215 320 print;
#X obj 36 111 route bang float loop play stop;
#X obj 412 246 hip~ 5;
#X msg 412 196 stop;
#X obj 361 223 spigot;
#X obj 412 222 tabplay~ array1;
#X obj 412 271 outlet~;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 2 0 7 0;
#X connect 3 1 11 0;
#X connect 4 0 12 0;
#X connect 6 0 5 0;
#X connect 7 0 8 1;
#X connect 8 0 6 0;
#X connect 9 0 14 0;
#X connect 10 0 3 0;
#X connect 11 0 1 0;
#X connect 11 1 4 0;
#X connect 12 0 2 1;
#X connect 12 1 13 0;
#X connect 14 0 8 0;
#X connect 14 1 0 0;
#X connect 14 2 17 1;
#X connect 14 3 18 0;
#X connect 14 4 16 0;
#X connect 15 0 19 0;
#X connect 16 0 18 0;
#X connect 17 0 18 0;
#X connect 18 0 15 0;
#X connect 18 1 17 0;
#X restore 358 449 pd load_into_table;
#X obj 358 364 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 382 363 5 0 0 0 - - -;
#X text 355 133 5) download files to disk;
#X text 355 333 6) load into table (if wav or aif);
#X msg 36 203 query kick;
#X msg 622 22 clear;
#X msg 428 405 play;
#X obj 427 363 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 427 383 loop \$1;
#X msg 469 405 stop;
#X obj 407 488 env~;
#X floatatom 407 512 5 0 0 0 - - -;
#X obj 358 488 dac~;
#X text 549 93 (clear results in text);
#N canvas 0 22 450 300 info 0;
#X text 38 52 Find the API documentation at http://www.freesound.org/docs/api/.
;
#X text 34 127 Apply for an API key at http://www.freesound.org/api/apply/.
, f 37;
#X restore 21 13 pd info;
#X msg 61 238 44100 1 0;
#X obj 61 263 fs_filter;
#X connect 2 0 13 0;
#X connect 4 0 3 0;
#X connect 7 0 13 1;
#X connect 8 0 2 1;
#X connect 9 0 2 0;
#X connect 10 0 13 0;
#X connect 16 0 14 0;
#X connect 17 0 14 0;
#X connect 18 0 14 0;
#X connect 19 0 14 0;
#X connect 20 0 14 1;
#X connect 22 0 33 0;
#X connect 22 0 35 0;
#X connect 22 0 35 1;
#X connect 23 0 22 0;
#X connect 24 0 22 0;
#X connect 27 0 2 0;
#X connect 28 0 15 0;
#X connect 29 0 22 0;
#X connect 30 0 31 0;
#X connect 31 0 22 0;
#X connect 32 0 22 0;
#X connect 33 0 34 0;
#X connect 38 0 39 0;
#X connect 39 0 2 0;
