#N canvas 200 93 978 641 10;
#X declare -lib purest_json -lib cyclone -lib list-abs -lib zexy;
#X obj 71 20 json-decode;
#X obj 71 47 list trim;
#X obj 71 74 route sounds;
#X obj 71 101 json-decode;
#X obj 71 128 list trim;
#X obj 71 -7 rest;
#X obj 8 200 outlet;
#X obj 8 175 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 88 167 s \$0-filelist;
#X obj -4 -137 inlet;
#X obj 408 -108 inlet;
#X obj 431 115 + 1;
#X msg 583 73 -1;
#X obj 378 -31 t b b b;
#X obj 485 -29 t b b b;
#X msg 417 49 1;
#X obj 431 142 s \$0-current;
#X obj 653 -24 s \$0-stop;
#X obj 254 288 outlet;
#X obj 314 15 s \$0-preview;
#X obj 562 -23 s \$0-download;
#X obj 254 217 zl reg;
#X obj 332 148 t l;
#X obj 254 242 zl nth;
#X obj 287 95 r \$0-filelist;
#X obj 331 215 r \$0-current;
#X obj 210 175 r \$0-preview;
#X obj 287 122 route id;
#N canvas 235 51 1110 664 preview 1;
#X obj 400 80 route preview-lq-ogg;
#X obj 367 144 zl reg;
#X obj 442 106 t l;
#X obj 367 186 zl nth;
#X obj 436 568 oggread~;
#X msg 388 484 start;
#X obj 388 418 t b b;
#X obj 436 595 dac~;
#X obj 367 213 symbol;
#X msg 248 79 list;
#X msg 497 539 stop;
#X obj 497 512 r \$0-stop;
#X obj 400 21 r \$0-filelist;
#X obj 580 94 r \$0-current;
#X obj 310 27 r \$0-preview;
#X obj 248 53 t b;
#X msg 436 483 open /tmp/fs_preview\$1.ogg;
#X obj 248 24 inlet;
#X obj 400 107 list;
#X obj 580 124 t f f f;
#X obj 456 248 f \$0;
#X obj 436 456 f \$0;
#X obj 367 313 rest;
#X msg 456 273 write /tmp/fs_preview\$1.ogg;
#X obj 367 240 t s b;
#X msg 367 268 GET \$1;
#X obj 535 425 print http-error-preview;
#X obj 388 361 route GET;
#X obj 388 339 list trim;
#X obj 388 385 route bang;
#X connect 0 0 18 0;
#X connect 1 0 3 0;
#X connect 2 0 18 1;
#X connect 3 0 8 0;
#X connect 4 0 7 0;
#X connect 4 1 7 1;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X connect 6 1 21 0;
#X connect 8 0 24 0;
#X connect 9 0 1 0;
#X connect 10 0 4 0;
#X connect 11 0 10 0;
#X connect 12 0 0 0;
#X connect 13 0 19 0;
#X connect 14 0 1 0;
#X connect 15 0 9 0;
#X connect 16 0 4 0;
#X connect 17 0 15 0;
#X connect 18 0 1 1;
#X connect 18 0 2 0;
#X connect 19 0 3 1;
#X connect 19 1 20 1;
#X connect 19 2 21 1;
#X connect 20 0 23 0;
#X connect 21 0 16 0;
#X connect 22 1 28 0;
#X connect 23 0 22 0;
#X connect 24 0 25 0;
#X connect 24 1 20 0;
#X connect 25 0 22 0;
#X connect 27 0 29 0;
#X connect 27 1 26 0;
#X connect 28 0 27 0;
#X connect 29 0 6 0;
#X connect 29 1 26 0;
#X restore 134 -57 pd preview;
#N canvas 191 51 970 665 load 0;
#X obj 1296 59 route original_filename;
#X obj 1332 91 t l;
#X obj 1158 125 zl reg;
#X msg 1158 77 list;
#X obj 967 161 zl reg;
#X msg 930 102 list;
#X obj 1000 91 route serve;
#X obj 967 219 zl nth;
#X obj 1158 155 zl nth;
#X obj 1040 119 t l;
#X obj 782 196 symbol;
#X obj 748 70 t b a b b;
#X obj 1158 180 list;
#X obj 1158 208 s2l;
#X obj 1158 232 l2s _;
#X obj 1000 58 r \$0-filelist;
#X obj 1296 32 r \$0-filelist;
#X obj 729 144 s \$0-ar;
#X obj 677 143 s \$0-fn;
#X obj 1105 77 r \$0-fn;
#X obj 815 119 r \$0-api_key;
#X obj 1158 49 r \$0-reset;
#X obj 930 76 r \$0-reset;
#X obj 748 40 r \$0-download;
#X obj 1208 125 r \$0-current;
#X obj 1000 187 r \$0-current;
#X msg 815 145 ?api_key=\$1;
#X obj 1000 120 list;
#X obj 1296 90 list;
#X obj 815 171 symbol;
#X obj 1237 401 r \$0-ar;
#X obj 1237 431 l2s;
#X obj 801 453 print request;
#X obj 841 272 pack s s;
#X obj 996 357 symbol;
#X msg 996 381 GET \$1;
#X msg 841 294 \$2\$1;
#X obj 1063 415 rest;
#X obj 1084 507 pack f s s;
#X obj 1149 428 r \$0-fname;
#X msg 1084 538 read -resize \$2 \$3;
#X obj 1084 564 soundfiler;
#X obj 1198 312 s \$0-fname;
#X msg 1158 260 /tmp/\$1;
#X msg 1063 355 write \$1;
#X obj 1159 285 t b a a;
#X obj 800 531 print http_error;
#X obj 1084 446 sel bang;
#X obj 234 150 zl reg;
#X obj 309 112 t l;
#X obj 234 192 zl nth;
#X obj 303 574 oggread~;
#X msg 255 490 start;
#X obj 255 424 t b b;
#X obj 303 601 dac~;
#X obj 234 219 symbol;
#X msg 115 85 list;
#X msg 364 545 stop;
#X obj 364 518 r \$0-stop;
#X obj 267 27 r \$0-filelist;
#X obj 447 100 r \$0-current;
#X obj 115 59 t b;
#X msg 303 489 open /tmp/fs_preview\$1.ogg;
#X obj 115 30 inlet;
#X obj 267 113 list;
#X obj 447 130 t f f f;
#X obj 323 254 f \$0;
#X obj 303 462 f \$0;
#X obj 234 319 rest;
#X msg 323 279 write /tmp/fs_preview\$1.ogg;
#X obj 234 246 t s b;
#X msg 234 274 GET \$1;
#X obj 402 431 print http-error-preview;
#X obj 255 367 route GET;
#X obj 255 345 list trim;
#X obj 255 391 route bang;
#X obj 267 86 route original_filename;
#X obj 576 217 t s s;
#X obj 177 34 r \$0-download;
#X connect 0 0 28 0;
#X connect 1 0 28 1;
#X connect 2 0 8 0;
#X connect 3 0 2 0;
#X connect 4 0 7 0;
#X connect 5 0 4 0;
#X connect 6 0 27 0;
#X connect 7 0 33 1;
#X connect 8 0 12 0;
#X connect 9 0 27 1;
#X connect 10 0 33 0;
#X connect 11 0 18 0;
#X connect 11 1 17 0;
#X connect 11 2 10 0;
#X connect 11 3 4 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 43 0;
#X connect 15 0 6 0;
#X connect 16 0 0 0;
#X connect 19 0 2 0;
#X connect 20 0 26 0;
#X connect 21 0 3 0;
#X connect 22 0 5 0;
#X connect 23 0 11 0;
#X connect 24 0 8 1;
#X connect 25 0 7 1;
#X connect 26 0 29 0;
#X connect 27 0 4 1;
#X connect 27 0 9 0;
#X connect 28 0 1 0;
#X connect 28 0 2 1;
#X connect 29 0 10 1;
#X connect 30 0 31 0;
#X connect 31 0 38 2;
#X connect 33 0 36 0;
#X connect 34 0 35 0;
#X connect 35 0 37 0;
#X connect 35 0 32 0;
#X connect 36 0 34 1;
#X connect 37 1 47 0;
#X connect 38 0 40 0;
#X connect 39 0 38 1;
#X connect 40 0 41 0;
#X connect 43 0 45 0;
#X connect 44 0 37 0;
#X connect 45 0 34 0;
#X connect 45 1 44 0;
#X connect 45 2 42 0;
#X connect 47 0 38 0;
#X connect 47 1 46 0;
#X connect 48 0 50 0;
#X connect 49 0 64 1;
#X connect 50 0 55 0;
#X connect 51 0 54 0;
#X connect 51 1 54 1;
#X connect 52 0 51 0;
#X connect 53 0 52 0;
#X connect 53 1 67 0;
#X connect 55 0 70 0;
#X connect 56 0 48 0;
#X connect 57 0 51 0;
#X connect 58 0 57 0;
#X connect 59 0 76 0;
#X connect 60 0 65 0;
#X connect 61 0 56 0;
#X connect 62 0 51 0;
#X connect 63 0 61 0;
#X connect 64 0 48 1;
#X connect 64 0 49 0;
#X connect 65 0 50 1;
#X connect 65 1 66 1;
#X connect 65 2 67 1;
#X connect 66 0 69 0;
#X connect 67 0 62 0;
#X connect 68 1 74 0;
#X connect 69 0 68 0;
#X connect 70 0 71 0;
#X connect 70 1 66 0;
#X connect 71 0 68 0;
#X connect 73 0 75 0;
#X connect 73 1 72 0;
#X connect 74 0 73 0;
#X connect 75 0 53 0;
#X connect 75 1 72 0;
#X connect 76 0 64 0;
#X connect 78 0 48 0;
#X restore 655 150 pd load;
#X obj -4 -111 route api_key;
#X obj -4 -62 s \$0-api_key;
#X msg 467 68 0;
#X obj 467 41 r \$0-reset;
#X obj 117 -4 print request;
#X obj 71 196 print;
#X obj 287 148 list;
#X obj 254 264 f;
#X obj 397 114 f;
#X obj 408 -81 route next prev load stop;
#X obj 506 -124 import purest_json cyclone list-abs zexy;
#X obj -4 -88 symbol;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 4 0 8 0;
#X connect 4 0 35 0;
#X connect 5 0 0 0;
#X connect 7 0 6 0;
#X connect 9 0 30 0;
#X connect 10 0 39 0;
#X connect 11 0 16 0;
#X connect 11 0 38 1;
#X connect 12 0 11 1;
#X connect 13 0 19 0;
#X connect 13 1 38 0;
#X connect 13 2 15 0;
#X connect 14 0 19 0;
#X connect 14 1 38 0;
#X connect 14 2 12 0;
#X connect 15 0 11 1;
#X connect 21 0 23 0;
#X connect 22 0 36 1;
#X connect 23 0 37 0;
#X connect 24 0 27 0;
#X connect 25 0 23 1;
#X connect 26 0 21 0;
#X connect 27 0 36 0;
#X connect 30 0 41 0;
#X connect 30 1 5 0;
#X connect 30 1 34 0;
#X connect 30 1 28 0;
#X connect 32 0 38 1;
#X connect 33 0 32 0;
#X connect 36 0 21 1;
#X connect 36 0 22 0;
#X connect 37 0 18 0;
#X connect 38 0 11 0;
#X connect 39 0 13 0;
#X connect 39 1 14 0;
#X connect 39 2 20 0;
#X connect 39 3 17 0;
#X connect 41 0 31 0;
